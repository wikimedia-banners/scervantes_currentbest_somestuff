
 <!-- CREATED AT: 2019-08-20T19:52:02+00:00 -->

<!-- Large desktop banner. Must be used with "Large banner limit and switch" mixin -->

<div class="frb-prevent-page-jump"></div>

<div class="frb frb-in-article" id="frb-main" style="display: none;"><!-- hidden by default until have checked the cookies -->

    <div class="frb-layout">

        <div class="frb-message">
            <div class="frb-message-inner">
                <svg class="frb-message-icon" role="img" aria-labelledby="frb-message-icon-title" width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><title id="frb-message-icon-title">Info icon</title><g fill-rule="nonzero" fill="none"><circle fill="#900" cx="10.492" cy="14.492" r="10.492"/><path d="M12.681 11.754l-2.267 7.864c-.125.45-.188.745-.188.885 0 .08.033.156.1.226.066.07.136.105.21.105.125 0 .25-.055.376-.165.332-.273.73-.767 1.194-1.482l.376.22c-1.113 1.94-2.296 2.91-3.55 2.91-.48 0-.86-.135-1.144-.404a1.349 1.349 0 0 1-.426-1.023c0-.273.062-.62.188-1.04l1.537-5.286c.147-.51.221-.892.221-1.15a.566.566 0 0 0-.21-.432c-.14-.125-.332-.188-.575-.188-.11 0-.243.004-.398.011l.144-.442 3.749-.609h.663zm-.685-5.087c.457 0 .842.159 1.156.475.313.318.47.701.47 1.15 0 .45-.16.834-.476 1.15-.317.318-.7.476-1.15.476-.443 0-.822-.158-1.14-.475a1.566 1.566 0 0 1-.475-1.15c0-.45.157-.833.47-1.15a1.549 1.549 0 0 1 1.145-.476z" fill="#FFF"/></g></svg>
                <span class="frb-greeting">
                    {{{FR2015_translations,dsk-lg-greeting}}}
                </span>

               It's a little awkward, so we'll get straight to the point: This <span class="frb-replace-dayofweek"></span> we humbly ask you to defend Wikipedia's independence. We depend on donations averaging about %AVERAGE%, but 99% of our readers don't give. <span class="frb-highlight">If everyone reading this gave %MINIMUM%, we could keep Wikipedia thriving for years to come.</span> The price of your <span class="frb-replace-dayofweek"></span> coffee is all we need. When we made Wikipedia a non-profit, people warned us we'd regret it. But if Wikipedia became commercial, it would be a great loss to the world. Wikipedia is a place to learn, not a place for advertising. It unites all of us who love knowledge: contributors, readers and the donors who keep us thriving. The heart and soul of Wikipedia is a community of people working to bring you unlimited access to reliable, neutral information. Please take a minute to help us keep Wikipedia growing. Thank you.

            </div>
            <div class="frb-footer frb-smallprint">
                {{MediaWiki:FundraisingBanners/SmallPrint-2017}}
            </div>
        </div><!--frb-message-->

        <div class="frb-form-wrapper">

            <form id="frb-form">

                <div class="frb-step frb-step-1">

                    <button class="frb-icon-btn frb-close" aria-label="{{{FR2015_translations,close}}}"></button>

                    <fieldset class="frb-frequency">
                        <legend class="error-highlight">1. {{{FR2015_translations,how-often}}}</legend>
                        <ul>
                            <li>
                                <input class="frb-radio" type="radio" name="frequency" id="frb-frequency-onetime" onclick="frb.toggleMonthly(false);" value="onetime" checked>
                                <label class="frb-radio-label" for="frb-frequency-onetime">{{{FR2015_translations,just-once}}}</label>
                            </li>
                            <li>
                                <input class="frb-radio" type="radio" name="frequency" id="frb-frequency-monthly" onclick="frb.toggleMonthly(true);" value="monthly">
                                <label class="frb-radio-label" for="frb-frequency-monthly">{{{FR2015_translations,give-monthly}}}</label>
                            </li>
                        </ul>
                    </fieldset>

                    <fieldset class="frb-amounts">
                        <legend class="error-highlight">
                            2. {{{FR2015_translations,select-amount}}} (<span class="frb-replace-currencycode"></span>)
                        </legend>
                        <ul>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps1" value="3">
                                <label for="frb-amt-ps1" class="frb-radio-label">$3</label>
                            </li>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps4" value="20">
                                <label for="frb-amt-ps4" class="frb-radio-label">$20</label>
                            </li>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps6" value="50">
                                <label for="frb-amt-ps6" class="frb-radio-label">$50</label>
                            </li>
                        </ul>
                        <ul>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps2" value="5">
                                <label for="frb-amt-ps2" class="frb-radio-label">$5</label>
                            </li>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps5" value="30">
                                <label for="frb-amt-ps5" class="frb-radio-label">$30</label>
                            </li>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps7" value="100">
                                <label for="frb-amt-ps7" class="frb-radio-label">$100</label>
                            </li>
                        </ul>
                        <ul>
                            <li>
                                <input class="frb-radio" name="amount" type="radio" id="frb-amt-ps3" value="10">
                                <label for="frb-amt-ps3" class="frb-radio-label">$10</label>
                            </li>
                            <li class="frb-amt-other">
                                <input class="frb-radio" name="amount" type="radio" id="input_amount_other" value="Other"/>
                                <input name="otherAmount" type="text" inputmode="decimal" id="frb-amt-other-input" size="3" autocomplete="off" value="" placeholder="{{{FR2015_translations,other}}}" tabindex="-1" />
                                <label for="frb-amt-other-input" class="frb-amt-other-label">{{{FR2015_translations,other}}}</label>
                            </li>
                        </ul>

                        <div class="frb-ptf frb-checkbox-wrapper" style="display: none;">
                            <input class="frb-checkbox" type="checkbox" name="ptf" id="frb-ptf-checkbox" value="true" onclick="frb.updateFeeDisplay();">
                            <label class="frb-checkbox-label" for="frb-ptf-checkbox">{{{FR2015_translations,generously-add}}} </label>
                        </div>
                    </fieldset>

                    <fieldset class="frb-methods">
                        <legend class="error-highlight">3. {{{FR2015_translations,select-payment-method-please}}}</legend>
                        <div class="frb-payment-options">
                            <div class="frb-button frb-pm-ideal no-monthly" style="display: none;">
                                <div class="frb-button-table">
                                    <input id="frb-pm-ideal" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'rtbt', submethod:'rtbt_ideal' });"/>
                                    <label for="frb-pm-ideal" class="frb-label">iDEAL</label>
                                </div>
                            </div>
                            <div data-name="Credit Card" class="frb-button frb-pm-cc">
                                <div class="frb-button-table">
                                    <input id="frb-pm-cc" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'cc' });"/>
                                    <label for="frb-pm-cc" class="frb-label">
                                        <span class="frb-pm-cc-label">{{{FR2015_translations,pm-creditcard}}}</span>
                                        <span class="frb-cc-logo-wrapper">
                                            <svg class="frb-cc-logo-visa" xmlns="http://www.w3.org/2000/svg" aria-labelledby="frb-cc-logo-visa-title" viewBox="0 0 200 120"><title id="frb-cc-logo-visa-title">Visa</title><path fill="#FFFFFF" d="M7.7 0h184.6c4.2 0 7.7 3.3 7.7 7.5v105c0 4.1-3.4 7.5-7.7 7.5H7.7c-4.2 0-7.7-3.3-7.7-7.5V7.5C0 3.3 3.4 0 7.7 0z"/><path fill="#F7B600" d="M0 98v14.3c0 4.2 3.4 7.7 7.7 7.7h184.6c4.2 0 7.7-3.4 7.7-7.7V98H0z"/><path fill="#1A1F71" d="M200 22V7.7c0-4.2-3.4-7.7-7.7-7.7H7.7C3.4 0 0 3.4 0 7.7V22h200zM81.9 36.9L62.3 83.4H49.4l-9.6-37.2c-.6-2.3-1.1-3.1-2.8-4.1-3.8-1.8-7.8-3.1-12-3.9l.2-1.4h20.6c2.8 0 5.1 2 5.6 4.8l5.1 26.9 12.6-31.7h12.8zm50.3 31.3c0-12.3-17-13-16.9-18.4 0-1.7 1.6-3.4 5.2-3.9 4.1-.4 8.2.3 12 2.1l2.1-9.8c-3.6-1.4-7.5-2.1-11.4-2.1-12 0-20.4 6.4-20.5 15.3-.1 6.8 6 10.4 10.6 12.6s6.3 3.8 6.3 5.8c0 3.1-3.8 4.5-7.3 4.5-4.3.1-8.6-.9-12.5-2.9l-2.2 10.2c4.3 1.7 8.9 2.5 13.5 2.5 12.7 0 20.9-6.2 21.1-15.9m31.6 15.2H175l-9.8-46.5h-10.4c-2.3 0-4.3 1.3-5.2 3.4l-18.3 43.1H144l2.5-7h15.6l1.7 7zm-13.6-16.5l6.4-17.4 3.7 17.4h-10.1zm-51-30l-10 46.5H77.1l10-46.5h12.1z"/></svg>

                                            <svg class="frb-cc-logo-mastercard" xmlns="http://www.w3.org/2000/svg" aria-labelledby="frb-cc-logo-mastercard-title" viewBox="0 0 200 120"><title id="frb-cc-logo-mastercard-title">MasterCard</title><path d="M192.3 120H7.7c-4.2 0-7.7-3.4-7.7-7.5V7.5C0 3.4 3.5 0 7.7 0h184.6c4.2 0 7.7 3.4 7.7 7.5v105c0 4.1-3.5 7.5-7.7 7.5z"/><g id="Layer_1-2"><path id="_Compound_Path_" fill="#FFFFFF" d="M61.9 106.5v-6.2c.2-2-1.3-3.7-3.3-3.9h-.5c-1.4-.1-2.7.6-3.5 1.8-.7-1.1-1.9-1.8-3.3-1.8-1.2-.1-2.3.5-3 1.5v-1.2h-2v9.9h2v-5.7c-.1-1.3.8-2.5 2.1-2.6h.4c1.4 0 2.2.9 2.2 2.6v5.7h2v-5.7c-.1-1.3.8-2.5 2.1-2.6h.4c1.5 0 2.2.9 2.2 2.6v5.7l2.2-.1zm32.1-10h-3.6v-3h-2v3h-2.1v1.8h2.1v4.7c0 2.3.8 3.7 3.3 3.7.9 0 1.9-.3 2.7-.8l-.6-1.8c-.6.3-1.2.5-1.9.6-1 0-1.5-.7-1.5-1.7v-4.8H94v-1.7zm18.3-.2c-1.1 0-2.1.5-2.7 1.5v-1.2h-2v9.9h2v-5.6c0-1.6.8-2.7 2.2-2.7.5 0 .9.1 1.3.2l.7-1.9c-.5-.1-1-.2-1.5-.2zm-27.7 1c-1.2-.7-2.6-1.1-4-1-2.5 0-4 1.2-4 3.1 0 1.6 1.1 2.6 3.3 2.9l1 .1c1.2.2 1.8.6 1.8 1.1 0 .8-.9 1.3-2.3 1.3-1.2 0-2.3-.3-3.3-1l-1 1.6c1.3.9 2.7 1.3 4.3 1.3 2.8 0 4.4-1.3 4.4-3.2 0-1.9-1.2-2.6-3.3-2.9l-1-.1c-.9-.1-1.8-.4-1.8-1s.8-1.2 2-1.2c1.1 0 2.1.3 3.1.9l.8-1.9zm29.9 4.2c-.1 2.7 2 5.1 4.7 5.2h.5c1.3.1 2.6-.4 3.5-1.2l-1-1.6c-.7.6-1.6.9-2.6.9-1.8-.2-3.2-1.8-3-3.7.2-1.6 1.4-2.9 3-3 .9 0 1.8.3 2.6.9l1-1.6c-1-.8-2.3-1.2-3.5-1.2-2.7-.1-5 2-5.2 4.7v.6zm-13.9-5.2c-2.9 0-4.9 2.1-4.9 5.2-.2 2.7 1.9 5 4.5 5.2h.5c1.5.1 2.9-.4 4-1.4l-1-1.5c-.8.7-1.8 1-2.9 1-1.5.1-2.8-1-3-2.5h7.4v-.8c.1-3.1-1.8-5.2-4.6-5.2zm0 1.8c1.4 0 2.5 1 2.6 2.4v.1h-5.3c.1-1.4 1.3-2.5 2.7-2.5zm-26.7 3.4v-4.9h-2v1.2c-.8-1-2-1.5-3.2-1.5-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2 1.2.1 2.4-.5 3.2-1.5v1.2h2v-4.9zm-7.9 0c-.1-1.7 1.1-3.2 2.8-3.4h.3c1.8.2 3.2 1.8 3 3.7-.2 1.6-1.4 2.9-3 3-1.7 0-3.1-1.4-3.1-3.1-.1 0-.1-.1 0-.2zm76.1-5.2c-1.1 0-2.1.5-2.7 1.5v-1.2h-2v9.9h2v-5.6c0-1.6.8-2.7 2.2-2.7.5 0 .9.1 1.3.2l.7-1.9c-.5-.1-1-.2-1.5-.2zm15.8 8.7c.1 0 .3 0 .4.1.1 0 .2.1.3.2.1.1.2.2.2.3.1.2.1.5 0 .8-.1.1-.1.2-.2.3-.1.1-.2.2-.3.2-.1.1-.3.1-.4.1-.4 0-.8-.2-.9-.6-.1-.2-.1-.5 0-.8.1-.1.1-.2.2-.3.1-.1.2-.2.3-.2.2 0 .3-.1.4-.1zm0 1.8c.1 0 .2 0 .3-.1.1 0 .2-.1.2-.2.3-.3.3-.7 0-1l-.2-.2c-.1 0-.2-.1-.3-.1-.1 0-.2 0-.3.1-.1 0-.2.1-.2.2-.3.3-.3.7 0 1 .1.1.2.1.2.2.1.1.2.1.3.1zm.1-1.2c.1 0 .2 0 .3.1.1.1.1.1.1.2s0 .1-.1.2-.1.1-.2.1l.3.3h-.2l-.3-.3h-.1v.3h-.2v-.9h.4zm-.2.1v.2h.3v-.2h-.3zm-23.3-4.2v-5h-2v1.2c-.8-1-2-1.5-3.2-1.5-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2 1.2.1 2.4-.5 3.2-1.5v1.2h2v-4.8zm-8 0c-.1-1.7 1.1-3.2 2.8-3.4h.3c1.8.2 3.2 1.8 3 3.7-.2 1.6-1.4 2.9-3 3-1.7 0-3.1-1.4-3.1-3.1v-.2zm27.9 0v-9h-2v5.2c-.8-1-2-1.5-3.2-1.5-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2 1.2.1 2.4-.5 3.2-1.5v1.2h2v-4.8zm-8 0c-.1-1.7 1.1-3.2 2.8-3.4h.3c1.8.3 3.1 2 2.8 3.9-.2 1.5-1.4 2.6-2.8 2.8-1.7 0-3.1-1.4-3.1-3.1-.1 0-.1-.1 0-.2z"/><g id="_Group_"><path fill="#FF5F00" d="M83.9 21h32.4v58.7H83.9z"/><path id="_Path_2" fill="#EB001B" d="M86 50.3C86 38.8 91.2 28 100.2 21c-16.1-12.7-39.4-9.9-52.1 6.3S38.2 67 54.3 79.7c13.4 10.6 32.4 10.6 45.8 0C91.2 72.6 86 61.8 86 50.3z"/><path fill="#F79E1B" d="M156.6 73.5v-1.2h.5V72h-1.2v.2h.5v1.2h.2zm2.4 0V72h-.4l-.4 1-.4-1h-.4v1.5h.3v-1.1l.4.9h.3l.4-.9v1.1h.2zm1.2-23.2c0 20.6-16.6 37.3-37.1 37.3-8.3 0-16.4-2.8-22.9-8 16.1-12.7 18.9-36.2 6.2-52.4-1.8-2.3-3.9-4.4-6.2-6.3 16.1-12.7 39.4-9.9 52.1 6.3 5.1 6.6 7.9 14.8 7.9 23.1z"/></g></g></svg>

                                            <svg class="frb-cc-logo-amex" xmlns="http://www.w3.org/2000/svg" aria-labelledby="frb-cc-logo-amex-title" viewBox="0 0 200 120"><title id="frb-cc-logo-amex-title">Amex</title><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="187.342" y1="3564.816" x2="13.247" y2="3503.596" gradientTransform="translate(0 -3474.102)"><stop offset="0" stop-color="#51BCEA"/><stop offset="1" stop-color="#3078BC"/></linearGradient><path fill="url(#SVGID_1_)" d="M192.3 120H7.7c-4.2 0-7.7-3.5-7.7-7.7V7.7C0 3.5 3.5 0 7.7 0h184.6c4.2 0 7.7 3.5 7.7 7.7v104.7c0 4.1-3.5 7.6-7.7 7.6z"/><path fill="#FFFFFF" d="M162.8 60.1L179 42.5h-11L157.4 54l-10.2-11.5h-33.4v35h32.9l10.6-11.6 10.2 11.6h10.8l-15.5-17.4zm-20.3 10.1H122v-7h18.2V56H122v-6.4h20.8l9.1 10.2-9.4 10.4zm-95-7.7l-5.6-13.9-5.6 13.9m74.4 15h-8.5V50.1L90.1 77.5h-7.3L70.7 50.1v27.4h-17l-3.2-7.8H33.2L30 77.5h-9l14.9-35h12.3l14.1 33.1V42.5H76l10.9 23.7 10-23.7h13.8v35z"/></svg>

                                            <svg class="frb-cc-logo-jcb" xmlns="http://www.w3.org/2000/svg" aria-labelledby="frb-cc-logo-jcb-title" viewBox="0 0 200 120"><title id="frb-cc-logo-jcb-title">JCB</title><path fill="#FFFFFF" d="M193.1 0H7.7C3.4 0 0 3.3 0 7.5v105c0 3.9 3.1 7.1 6.9 7.5h185.4c4.3 0 7.7-3.4 7.7-7.5V7.5c0-3.9-3.1-7.1-6.9-7.5z"/><linearGradient id="path6338_1_" gradientUnits="userSpaceOnUse" x1="-227.894" y1="959.936" x2="-209.808" y2="959.936" gradientTransform="matrix(2.0492 0 0 -2.0492 590.04 2032.794)"><stop offset="0" stop-color="#007940"/><stop offset=".229" stop-color="#00873F"/><stop offset=".743" stop-color="#40A737"/><stop offset="1" stop-color="#5CB531"/></linearGradient><path id="path6338" fill="url(#path6338_1_)" d="M130.4 69.6h8.7c.2 0 .8-.1 1.1-.1 1.6-.3 3.1-1.8 3.1-3.9 0-2-1.4-3.5-3.1-3.9-.2-.1-.7-.1-1.1-.1h-8.7v8z"/><linearGradient id="path6349_1_" gradientUnits="userSpaceOnUse" x1="-227.894" y1="962.732" x2="-209.823" y2="962.732" gradientTransform="matrix(2.0492 0 0 -2.0492 590.04 2032.794)"><stop offset="0" stop-color="#007940"/><stop offset=".229" stop-color="#00873F"/><stop offset=".743" stop-color="#40A737"/><stop offset="1" stop-color="#5CB531"/></linearGradient><path id="path6349" fill="url(#path6349_1_)" d="M138.1 15c-8.2 0-15 6.7-15 15v15.6h21.2c.5 0 1.1 0 1.5.1 4.8.2 8.3 2.7 8.3 7 0 3.4-2.4 6.3-6.8 6.8v.2c4.9.3 8.6 3 8.6 7.3 0 4.5-4.1 7.5-9.6 7.5H123V105h22c8.2 0 15-6.7 15-15V15h-21.9z"/><linearGradient id="path6360_1_" gradientUnits="userSpaceOnUse" x1="-227.894" y1="965.808" x2="-209.807" y2="965.808" gradientTransform="matrix(2.0492 0 0 -2.0492 590.04 2032.794)"><stop offset="0" stop-color="#007940"/><stop offset=".229" stop-color="#00873F"/><stop offset=".743" stop-color="#40A737"/><stop offset="1" stop-color="#5CB531"/></linearGradient><path id="path6360" fill="url(#path6360_1_)" d="M142.1 53.7c0-2-1.4-3.3-3.1-3.5-.2 0-.6-.1-.8-.1h-7.8v7.3h7.8c.2 0 .7 0 .8-.1 1.7-.3 3.1-1.7 3.1-3.6z"/><linearGradient id="path6371_1_" gradientUnits="userSpaceOnUse" x1="-268.384" y1="962.752" x2="-250.018" y2="962.752" gradientTransform="matrix(2.0492 0 0 -2.0492 590.04 2032.794)"><stop offset="0" stop-color="#1F286F"/><stop offset=".475" stop-color="#004E94"/><stop offset=".826" stop-color="#0066B1"/><stop offset="1" stop-color="#006FBC"/></linearGradient><path id="path6371" fill="url(#path6371_1_)" d="M55.1 15c-8.2 0-15 6.7-15 15v37c4.2 2.1 8.6 3.4 12.9 3.4 5.2 0 8-3.1 8-7.4V45.5h12.9v17.4c0 6.8-4.2 12.3-18.5 12.3-8.7 0-15.4-1.9-15.4-1.9v31.6h22c8.2 0 15-6.7 15-15V15H55.1z"/><linearGradient id="path6384_1_" gradientUnits="userSpaceOnUse" x1="-248.235" y1="962.712" x2="-230.398" y2="962.712" gradientTransform="matrix(2.0492 0 0 -2.0492 590.04 2032.794)"><stop offset="0" stop-color="#6C2C2F"/><stop offset=".173" stop-color="#882730"/><stop offset=".573" stop-color="#BE1833"/><stop offset=".859" stop-color="#DC0436"/><stop offset="1" stop-color="#E60039"/></linearGradient><path id="path6384" fill="url(#path6384_1_)" d="M96.6 15c-8.2 0-15 6.7-15 15v19.6c3.8-3.2 10.4-5.3 21-4.8 5.7.2 11.8 1.8 11.8 1.8V53c-3.1-1.6-6.7-3-11.4-3.3-8.1-.6-12.9 3.4-12.9 10.3 0 7 4.9 11 12.9 10.3 4.7-.3 8.3-1.8 11.4-3.3v6.3s-6 1.6-11.8 1.8c-10.6.5-17.2-1.6-21-4.8V105h22c8.2 0 15-6.7 15-15V15h-22z"/></svg>

                                            <svg class="frb-cc-logo-discover" xmlns="http://www.w3.org/2000/svg" aria-labelledby="frb-cc-logo-discover-title" viewBox="0 0 200 120"><title id="frb-cc-logo-discover-title">Discover</title><path fill="#FFFFFF" d="M192.3 120H7.7c-4.2 0-7.7-3.5-7.7-7.7V7.7C0 3.5 3.5 0 7.7 0h184.6c4.2 0 7.7 3.5 7.7 7.7v104.7c0 4.1-3.5 7.6-7.7 7.6z"/><path fill="#E77730" d="M47.5 120h144.8c4.2 0 7.7-3.5 7.7-7.7V64.6s-21.5 15.4-61.9 31C104 108.9 57 118.2 47.5 120z"/><path fill="#211E1E" d="M26.6 54.2c-1.8 1.6-4 2.3-7.6 2.3h-1.5V37.8H19c3.6 0 5.8.6 7.6 2.3 1.9 1.7 3.1 4.4 3.1 7 0 2.7-1.2 5.4-3.1 7.1m-6.5-21.3h-8.2v28.2H20c4.3 0 7.4-1 10.2-3.3 3.3-2.7 5.2-6.7 5.2-10.8 0-8.2-6.3-14.1-15.3-14.1M38 61.3h5.6V32.9H38v28.4zm19.1-17.5c-3.3-1.2-4.3-2-4.3-3.6 0-1.8 1.8-3.2 4.1-3.2 1.7 0 3 .7 4.5 2.3l2.9-3.8c-2.4-2.1-5.3-3.2-8.4-3.2-5.1 0-8.9 3.5-8.9 8.1 0 3.9 1.8 5.9 7 7.7 2.2.8 3.3 1.3 3.8 1.6 1.1.7 1.7 1.8 1.7 2.9 0 2.3-1.9 4-4.3 4-2.7 0-4.8-1.3-6.1-3.8l-3.6 3.5c2.6 3.8 5.6 5.3 9.9 5.3 5.8 0 9.8-3.8 9.8-9.2.2-4.3-1.7-6.3-8.1-8.6m10 3.3c0 8.3 6.6 14.8 15.1 14.8 2.4 0 4.5-.5 7-1.7v-6.5c-2.2 2.2-4.2 3.1-6.7 3.1-5.6 0-9.6-4.1-9.6-9.7 0-5.4 4.1-9.7 9.3-9.7 2.7 0 4.7 1 7 3.2V34c-2.4-1.2-4.5-1.8-6.9-1.8-8.4.1-15.2 6.7-15.2 14.9m66.2 4.9l-7.6-19h-6.1l12.1 29h3l12.4-29h-6l-7.8 19m16.3 9.3h15.8v-4.8h-10.2v-7.7h9.8V44h-9.8v-6.2h10.2v-4.9h-15.8M176.3 46h-1.6v-8.5h1.7c3.5 0 5.4 1.4 5.4 4.2-.1 2.7-2 4.3-5.5 4.3m11.1-4.6c0-5.2-3.7-8.3-10.1-8.3H169v28.2h5.6V49.9h.7l7.7 11.4h6.9l-9-11.9c4.2-.9 6.5-3.8 6.5-8"/><path fill="#E77731" d="M121.2 47.1c0 8.2-6.8 15-15.1 15S91 55.3 91 47.1s6.8-15 15.1-15c8.4 0 15.1 6.8 15.1 15"/><path fill="none" d="M106.3 32c-.6 0-1.2 0-1.8.1.2 0 .4 0 .6-.1.5.1.9.1 1.2 0h.8-.8M91.4 43.6c-.1.5-.2 1.1-.3 1.6 0 .2 0 .4-.1.5.1-.5.1-1 .2-1.5.1-.1.1-.3.2-.6"/></svg>
                                        </span>
                                    </label>
                                </div>
                            </div>
                            <div class="frb-button frb-pm-bt no-monthly" style="display: none;">
                                <div class="frb-button-table">
                                    <input id="frb-pm-bt" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'bt' });"/>
                                    <label for="frb-pm-bt" class="frb-label">{{{FR2015_translations,pm-banktransfer}}}</label>
                                </div>
                            </div>
                            <div class="frb-button frb-pm-cash no-monthly" style="display: none;">
                                <div class="frb-button-table">
                                    <input id="frb-pm-cash" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'cash' });"/>
                                    <label for="frb-pm-cash" class="frb-label">{{{FR2015_translations,pm-cash}}}</label>
                                </div>
                            </div>
                            <div data-name="PayPal" class="frb-button frb-pm-pp">
                                <div class="frb-button-table">
                                    <input id="frb-pm-pp" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'paypal' });"/>
                                    <label for="frb-pm-pp" class="frb-label">
                                        <svg class="frb-logo-payments frb-logo-payments--paypal" role="img" aria-labelledby="frb-logo-paypal-title" width="80" height="24" viewBox="0 0 80 24" xmlns="http://www.w3.org/2000/svg"><title id="frb-logo-paypal-title">{{{FR2015_translations,pm-paypal}}}</title><g fill-rule="nonzero" fill="none"><path d="M12.444 5.085H6.97a.763.763 0 0 0-.752.648L4.006 19.891c-.044.279.17.53.451.53H7.07a.762.762 0 0 0 .751-.647l.597-3.819a.762.762 0 0 1 .75-.648h1.733c3.606 0 5.686-1.76 6.23-5.248.245-1.526.01-2.724-.698-3.564-.778-.922-2.158-1.41-3.99-1.41zm.631 5.171c-.3 1.981-1.8 1.981-3.25 1.981h-.826l.579-3.7a.457.457 0 0 1 .45-.388h.379c.988 0 1.92 0 2.402.569.288.339.376.842.266 1.538zM28.803 10.193h-2.62a.458.458 0 0 0-.451.388l-.116.74-.184-.269c-.567-.83-1.832-1.108-3.095-1.108-2.896 0-5.37 2.213-5.851 5.317-.25 1.548.105 3.029.976 4.061.799.95 1.941 1.345 3.301 1.345 2.334 0 3.628-1.513 3.628-1.513l-.117.734c-.044.281.17.533.45.533h2.36a.763.763 0 0 0 .752-.648l1.416-9.05a.457.457 0 0 0-.449-.53zm-3.653 5.145c-.253 1.51-1.441 2.525-2.957 2.525-.76 0-1.37-.246-1.76-.713-.387-.464-.534-1.123-.411-1.858.236-1.497 1.444-2.544 2.937-2.544.744 0 1.35.25 1.748.72.399.475.557 1.139.443 1.87zM42.761 10.193h-2.634a.761.761 0 0 0-.63.336l-3.632 5.398-1.54-5.187a.764.764 0 0 0-.73-.547h-2.587a.46.46 0 0 0-.433.608l2.9 8.588-2.726 3.884a.46.46 0 0 0 .372.727h2.63c.25 0 .483-.123.625-.33l8.76-12.755a.46.46 0 0 0-.375-.722" fill="#283B82"/><path d="M51.48 5.085h-5.473a.762.762 0 0 0-.75.648l-2.214 14.158c-.044.279.17.53.45.53H46.3c.261 0 .485-.191.525-.453l.628-4.013a.762.762 0 0 1 .751-.648h1.732c3.606 0 5.686-1.76 6.23-5.248.246-1.526.01-2.724-.699-3.564-.777-.922-2.156-1.41-3.987-1.41zm.632 5.171c-.299 1.981-1.799 1.981-3.25 1.981h-.826l.58-3.7a.456.456 0 0 1 .45-.388h.379c.987 0 1.92 0 2.402.569.287.339.375.842.265 1.538zM67.84 10.193h-2.62a.455.455 0 0 0-.45.388l-.116.74-.184-.269c-.567-.83-1.832-1.108-3.094-1.108-2.897 0-5.37 2.213-5.851 5.317-.25 1.548.105 3.029.976 4.061.8.95 1.94 1.345 3.3 1.345 2.334 0 3.628-1.513 3.628-1.513l-.117.734c-.044.281.17.533.452.533h2.36a.762.762 0 0 0 .75-.648l1.417-9.05a.46.46 0 0 0-.452-.53zm-3.654 5.145c-.251 1.51-1.441 2.525-2.957 2.525-.76 0-1.37-.246-1.76-.713-.387-.464-.533-1.123-.41-1.858.237-1.497 1.444-2.544 2.936-2.544.744 0 1.35.25 1.748.72.4.475.56 1.139.443 1.87zM70.929 5.474L68.683 19.89c-.044.279.17.53.45.53h2.258a.761.761 0 0 0 .751-.647l2.215-14.157a.459.459 0 0 0-.45-.532H71.38a.458.458 0 0 0-.45.389" fill="#469BDB"/></g></svg>
                                    </label>
                                </div>
                            </div>
                            <div data-name="Amazon Pay" class="frb-button frb-pm-amazon no-monthly">
                                <div class="frb-button-table">
                                    <input id="frb-pm-amazon" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'amazon' });"/>
                                    <label for="frb-pm-amazon" class="frb-label">
                                        <svg class="frb-logo-payments frb-logo-payments--amazon" role="img" aria-labelledby="frb-logo-amazon-pay-title" width="80" height="24" viewBox="0 0 80 24" xmlns="http://www.w3.org/2000/svg"><title id="frb-logo-amazon-pay-title">{{{FR2015_translations,pm-amazon}}}</title><g fill-rule="nonzero" fill="none"><path d="M17.33 9.035c.278.07.56.125.82.26.655.349 1.01.895 1.097 1.63.03.27.038.542.038.814 0 1.896-.004 3.793-.007 5.689 0 .31-.097.407-.404.407H17.5c-.275 0-.38-.104-.38-.38v-5.08c0-.167-.003-.334-.027-.504-.094-.675-.675-1.01-1.305-.738-.46.195-.63.585-.686 1.051a7.11 7.11 0 0 0-.038.818v4.42c0 .32-.094.417-.41.417h-1.358c-.289 0-.386-.101-.386-.387 0-1.61 0-3.225.003-4.837 0-.31-.013-.612-.104-.911-.122-.4-.376-.623-.745-.65-.497-.036-.814.128-1.002.521-.16.33-.198.689-.202 1.05-.007 1.591-.007 3.178-.007 4.768 0 .359-.083.446-.435.446h-1.34c-.274 0-.379-.105-.379-.376V9.599c0-.293.094-.39.38-.39H10.4c.244 0 .348.108.352.348 0 .316 0 .633.024.957.062-.133.122-.268.195-.394.323-.58.804-.946 1.468-1.047.025-.003.045-.007.052-.035h.696c.007.007.014.025.021.025.752.097 1.222.556 1.552 1.2.038.077.08.157.132.254a5.77 5.77 0 0 1 .074-.163c.295-.627.775-1.04 1.444-1.229.097-.028.205-.02.292-.083.209-.007.417-.007.626-.007zM4.28 9.035c.209.08.435.08.65.139.384.104.746.25 1.066.487.584.435.824 1.044.86 1.744.051 1.113.01 2.223.02 3.337 0 .114 0 .233.004.348.01.344.11.657.302.946.06.087.119.17.181.254.268.366.261.418-.083.71-.317.271-.63.546-.947.818-.223.195-.355.195-.574.003a3.175 3.175 0 0 1-.672-.79c-.076-.128-.121-.153-.243-.031-.425.431-.901.786-1.503.919-.56.125-1.128.153-1.688 0-.93-.254-1.42-.902-1.583-1.827-.007-.038.014-.084-.039-.105v-.835c.049-.02.032-.07.039-.104.1-.574.344-1.075.769-1.483.55-.525 1.238-.748 1.966-.883a17.19 17.19 0 0 1 1.687-.21c.126-.01.185-.04.174-.184-.014-.191 0-.382-.01-.574-.024-.508-.254-.828-.686-.96a1.376 1.376 0 0 0-1.06.104c-.314.16-.495.421-.582.762-.056.226-.15.317-.317.303a51.272 51.272 0 0 1-1.45-.153c-.213-.024-.297-.16-.255-.372.045-.234.115-.46.216-.676.39-.824 1.075-1.273 1.924-1.52.258-.077.533-.077.787-.174.351.007.7.007 1.047.007zm.386 5.317c0-.223-.003-.372 0-.526.004-.08-.02-.11-.107-.107a4.925 4.925 0 0 0-.933.09c-.919.202-1.364.766-1.288 1.646.032.386.167.73.554.898.393.17.758.08 1.092-.17.178-.136.307-.314.414-.509.237-.435.275-.908.268-1.322zM24.88 9.035c.223.049.45.087.668.142.453.115.874.303 1.229.62.532.48.696 1.11.706 1.788.014 1.062.021 2.123.004 3.184-.01.585.139 1.097.511 1.545.049.056.09.122.126.188.07.14.059.265-.07.373-.376.32-.745.643-1.12.967-.206.174-.342.167-.55-.01a3.517 3.517 0 0 1-.703-.835c-.063-.101-.101-.105-.188-.021-.435.438-.912.81-1.531.946-.651.14-1.302.17-1.935-.076-.793-.31-1.214-.923-1.333-1.744-.153-1.047.084-1.97.926-2.676.466-.39 1.023-.577 1.607-.7.613-.128 1.236-.19 1.859-.243.15-.014.219-.052.202-.215-.018-.185-.01-.37-.018-.557-.042-.87-.717-1.076-1.294-.989-.536.08-.895.376-1.034.92-.066.253-.15.305-.414.281-.445-.045-.887-.09-1.33-.143-.232-.027-.32-.17-.27-.407.257-1.169 1.019-1.844 2.136-2.157.275-.077.56-.119.839-.178.327-.003.654-.003.977-.003zm.404 5.296c0-.157-.003-.313 0-.47.004-.097-.017-.146-.132-.142-.296.01-.588.027-.88.083-.958.188-1.41.783-1.312 1.723.08.772.803 1.148 1.478.762.254-.147.435-.362.575-.613.23-.417.268-.877.271-1.343zM48.89 9.035c.178.059.37.073.547.142.766.3 1.159.884 1.302 1.667.07.383.1.77.1 1.159.004 1.827.004 3.654.004 5.48 0 .24-.108.349-.351.352-.488.004-.975.004-1.462 0-.233 0-.344-.118-.344-.358V12.57c0-.278-.021-.557-.094-.824-.101-.376-.31-.648-.717-.707-.418-.062-.738.105-.968.446-.24.354-.327.769-.34 1.186-.05 1.496-.011 2.993-.022 4.49 0 .114.004.232 0 .347-.007.212-.114.327-.323.33-.505.008-1.01.008-1.514 0-.216-.003-.313-.121-.313-.368v-2.906c0-1.646 0-3.292-.004-4.941 0-.327.084-.41.408-.41h1.27c.26 0 .358.097.358.354v1.086c.077-.021.077-.09.098-.136.118-.264.257-.518.438-.748a1.859 1.859 0 0 1 1.187-.692c.03-.007.073.007.087-.035.212-.007.435-.007.654-.007zM40.017 9.035c.126.062.265.055.397.087 1.086.254 1.84.932 2.269 1.928.706 1.635.748 3.302-.004 4.934-.494 1.068-1.322 1.768-2.515 1.976a3.242 3.242 0 0 1-3.428-1.652c-.49-.895-.665-1.855-.661-2.86.007-.94.17-1.845.63-2.677.536-.967 1.336-1.566 2.45-1.705.024-.003.045-.007.055-.031h.807zm-1.597 4.363c0 .314-.017.627.004.94.034.49.1.981.33 1.427.174.337.432.56.825.574.4.01.703-.164.915-.501.122-.192.198-.404.25-.627.182-.8.157-1.61.119-2.422-.024-.48-.08-.956-.247-1.416-.16-.442-.473-.671-.943-.689-.432-.017-.741.181-.95.553a1.894 1.894 0 0 0-.174.435c-.153.564-.15 1.145-.129 1.726z" fill="#343F48"/><path d="M19.626 24.346c-.188-.07-.386-.045-.578-.06a19.687 19.687 0 0 1-9.18-3.058 20.499 20.499 0 0 1-2.543-1.935.514.514 0 0 1-.094-.1c-.066-.091-.09-.189-.02-.29.069-.1.177-.114.281-.08.087.028.167.077.247.122a26.22 26.22 0 0 0 6.994 2.732c1.632.383 3.289.616 4.966.692 3.918.181 7.676-.515 11.299-2 .1-.042.202-.091.313-.095.184-.006.351.084.414.23.066.15.031.324-.129.449-.23.177-.466.345-.71.501-1.304.846-2.714 1.469-4.196 1.935a20.6 20.6 0 0 1-5.008.922c-.038.003-.083-.017-.107.035h-1.95z" fill="#FE9901"/><path d="M56.72 10.176c.192-.136.37-.282.564-.403 1.05-.662 2.175-.884 3.368-.484.989.33 1.605 1.061 1.939 2.022.49 1.423.49 2.86-.032 4.273-.435 1.18-1.245 1.994-2.516 2.23-1.127.21-2.164-.038-3.065-.772-.045-.035-.087-.07-.16-.126v3.742c0 .368-.077.441-.453.445-.268 0-.532.003-.8 0-.282-.004-.38-.098-.38-.376V9.713c0-.271.098-.365.37-.365.233 0 .462-.004.696 0 .212.003.32.094.361.3.021.09.025.184.05.274.027.084.006.174.058.254zm.105 3.296v2.174c0 .07-.007.13.066.181.633.453 1.322.738 2.109.738 1.023 0 1.712-.445 2.025-1.399a5.297 5.297 0 0 0-.01-3.379c-.303-.908-.947-1.336-1.904-1.36-.8-.021-1.514.226-2.168.668-.087.059-.122.118-.118.223.003.716 0 1.433 0 2.154zM32.397 10.917h-2.614c-.292 0-.379-.09-.379-.386V9.54c0-.25.101-.358.345-.358 1.687-.004 3.375-.004 5.063 0 .247 0 .348.1.351.348.004.289 0 .581.004.87.003.23-.126.407-.247.581-.519.748-1.044 1.49-1.566 2.234-.411.588-.825 1.176-1.26 1.796h.296c.898.007 1.76.17 2.568.58.26.133.372.328.365.613-.007.348 0 .696-.003 1.044-.004.317-.185.432-.467.3-1.764-.832-3.528-.836-5.292.006-.265.126-.45.021-.453-.275-.007-.424 0-.845.004-1.27.003-.282.1-.529.264-.758.968-1.382 1.932-2.767 2.895-4.148.039-.049.073-.105.126-.185zM69.4 16.847a4.976 4.976 0 0 1-.876.591c-.905.46-1.852.64-2.84.331-.905-.285-1.416-.926-1.552-1.862-.094-.643-.02-1.263.341-1.82.453-.696 1.128-1.044 1.921-1.186.919-.167 1.823-.042 2.721.153.223.049.223.052.223-.174-.004-.376.01-.755-.014-1.131-.06-.853-.46-1.253-1.308-1.322-1.003-.084-1.973.083-2.93.372-.33.101-.428.035-.432-.306 0-.14.004-.279 0-.418-.007-.226.098-.365.303-.452.466-.198.953-.32 1.451-.4.793-.129 1.59-.178 2.387-.042.741.125 1.392.404 1.775 1.107.209.382.306.803.306 1.235.01 1.949.007 3.897.007 5.842 0 .24-.097.338-.338.341-.226.004-.452.004-.678 0-.237-.003-.338-.087-.38-.316-.03-.17-.052-.338-.086-.543zm-.062-1.844c0-.244-.004-.488 0-.731 0-.084-.024-.118-.111-.14-.717-.149-1.438-.246-2.172-.156-.925.111-1.381.654-1.322 1.576.038.571.372.968.926 1.086.174.038.354.049.535.035.742-.052 1.403-.32 2.008-.741.094-.066.143-.133.136-.254-.007-.223 0-.45 0-.675zM76.05 16.175c.547-1.566 1.083-3.107 1.619-4.645.198-.574.396-1.149.598-1.72.146-.417.216-.462.658-.462.271 0 .546-.004.817 0 .202.003.272.087.23.289-.042.205-.136.393-.212.588a4131.2 4131.2 0 0 1-3.588 9.12 4.17 4.17 0 0 1-.706 1.208c-.407.47-.93.696-1.538.73-.39.021-.776.008-1.155-.1-.265-.073-.352-.181-.359-.456a8.131 8.131 0 0 1 0-.505c.007-.215.094-.296.31-.268.271.035.54.063.814.046.466-.032.828-.23 1.068-.64.282-.477.425-1.013.63-1.521.032-.073-.01-.136-.038-.199-1.037-2.56-2.078-5.122-3.114-7.683a2.001 2.001 0 0 1-.115-.345c-.035-.167.038-.26.205-.264.372-.007.741-.004 1.114 0 .236 0 .344.157.417.355.22.602.439 1.207.658 1.81.54 1.489 1.075 2.982 1.61 4.47.018.057.043.109.077.192z" fill="#343F48"/><path d="M31.36 19.328c-.661 0-1.32.083-1.973.153-.108.01-.237.045-.29-.083-.055-.14.05-.23.15-.303a4.104 4.104 0 0 1 1.504-.647c.94-.213 1.879-.247 2.822-.021.045.01.087.028.132.038.292.07.418.261.425.553a4.896 4.896 0 0 1-.213 1.49c-.247.866-.626 1.666-1.245 2.338a2.283 2.283 0 0 1-.373.338c-.083.059-.184.1-.275.03-.097-.072-.059-.177-.024-.27.25-.64.505-1.281.689-1.946.097-.358.191-.717.164-1.092-.018-.268-.108-.383-.362-.467-.366-.121-.749-.111-1.131-.111z" fill="#FE9901"/></g></svg>
                                    </label>
                                </div>
                            </div>
                            <div class="frb-button frb-pm-bpay no-monthly" style="display: none;">
                                <div class="frb-button-table">
                                    <input id="frb-pm-bpay" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'obt', submethod:'bpay' });"/>
                                    <label for="frb-pm-bpay" class="frb-label">BPay</label>
                                </div>
                            </div>
                            <div data-name="PayPal" class="frb-button frb-pm-pp-usd" style="display: none;">
                                <div class="frb-button-table">
                                    <input id="frb-pm-pp-usd" type="radio" name="frb-methods" class="frb-radio" onchange="frb.setMethod({ method:'paypal', skipValidation: true });"/>
                                    <label for="frb-pm-pp-usd" class="frb-label">
                                        <svg class="frb-logo-payments frb-logo-payments--paypal-usd" role="img" aria-labelledby="frb-logo-paypal-usd-title" width="105" height="24" viewBox="0 0 105 24" xmlns="http://www.w3.org/2000/svg"><title id="frb-logo-paypal-usd-title">{{{FR2015_translations,pm-paypal}}} (USD)</title><g fill="none" fill-rule="evenodd"><path d="M75.452 10.3c.44-.68 1.024-1.411 1.752-2.195h1.192l-.471.621a11.815 11.815 0 0 0-1.542 2.684 12.17 12.17 0 0 0-.604 2.007c-.24 1.13-.297 2.17-.172 3.12.074.563.26 1.283.56 2.163h-1.17l-.277-.538c-.185-.325-.353-.81-.504-1.452a7.683 7.683 0 0 1-.05-3.393c.214-1.013.643-2.018 1.286-3.016zm4.042-2.062h1.735l-1.07 5.023c-.118.562-.139.972-.061 1.231.11.458.514.688 1.208.688.692 0 1.189-.23 1.492-.688.188-.259.342-.669.46-1.23l1.07-5.024h1.735l-1.07 5.023c-.185.869-.464 1.545-.837 2.03-.691.886-1.744 1.33-3.16 1.33-1.416 0-2.282-.444-2.6-1.33-.166-.485-.157-1.161.028-2.03l1.07-5.023zm8.232 5.65c-.025.373.017.652.128.837.207.336.647.504 1.32.504.402 0 .739-.044 1.008-.133.514-.17.82-.486.915-.948.06-.27-.015-.478-.222-.626-.203-.144-.547-.272-1.03-.383l-.827-.194c-.81-.192-1.353-.4-1.63-.626-.47-.377-.619-.967-.449-1.769.155-.732.55-1.34 1.187-1.824.635-.484 1.469-.726 2.5-.726.861 0 1.547.228 2.057.685.51.456.687 1.119.532 1.987h-1.641c.078-.491-.06-.84-.416-1.048-.236-.136-.552-.205-.948-.205-.44 0-.81.089-1.111.266-.302.178-.485.425-.552.743-.063.292.02.51.25.654.144.097.474.21.992.339l1.336.338c.584.148 1.007.345 1.27.593.406.384.532.94.377 1.669-.16.746-.577 1.366-1.253 1.86-.677.493-1.536.74-2.578.74-1.065 0-1.85-.243-2.357-.73-.506-.485-.669-1.153-.487-2.003h1.63zm8.893-4.23l-1.13 5.333h1.574c.805 0 1.452-.397 1.94-1.192.266-.436.462-.955.588-1.558.177-.831.183-1.47.016-1.915-.166-.446-.637-.668-1.413-.668h-1.575zm3.393-1.242a2 2 0 0 1 1.17 1.037c.2.406.3.846.302 1.319.002.473-.042.924-.13 1.353-.233 1.086-.647 2.007-1.242 2.76-.806 1.017-1.826 1.525-3.06 1.525h-3.52l1.734-8.172h3.52c.504.008.912.067 1.226.178zm4.768 1.885c.218.998.22 2.003.005 3.016-.236 1.112-.733 2.243-1.49 3.393-.426.643-.801 1.127-1.126 1.452l-.505.538H100.5c.669-.88 1.16-1.6 1.475-2.162.528-.95.913-1.99 1.153-3.121a10.54 10.54 0 0 0 .25-2.007 7.927 7.927 0 0 0-.4-2.684l-.205-.62h1.192c.395.783.667 1.515.815 2.195z" fill="#000"/><g fill-rule="nonzero"><path d="M8.444 2.085H2.97a.763.763 0 0 0-.752.648L.006 16.891c-.044.279.17.53.451.53H3.07a.762.762 0 0 0 .751-.647l.597-3.819a.762.762 0 0 1 .75-.648h1.733c3.606 0 5.686-1.76 6.23-5.248.245-1.526.01-2.724-.698-3.564-.778-.922-2.158-1.41-3.99-1.41zm.631 5.171c-.3 1.981-1.8 1.981-3.25 1.981h-.826l.579-3.7a.457.457 0 0 1 .45-.388h.379c.988 0 1.92 0 2.402.569.288.339.376.842.266 1.538zM24.803 7.193h-2.62a.458.458 0 0 0-.451.388l-.116.74-.184-.269c-.567-.83-1.832-1.108-3.095-1.108-2.896 0-5.37 2.213-5.851 5.317-.25 1.548.105 3.029.976 4.061.799.95 1.941 1.345 3.301 1.345 2.334 0 3.628-1.513 3.628-1.513l-.117.734c-.044.281.17.533.45.533h2.36a.763.763 0 0 0 .752-.648l1.416-9.05a.457.457 0 0 0-.449-.53zm-3.653 5.145c-.253 1.51-1.441 2.525-2.957 2.525-.76 0-1.37-.246-1.76-.713-.387-.464-.534-1.123-.411-1.858.236-1.497 1.444-2.544 2.937-2.544.744 0 1.35.25 1.748.72.399.475.557 1.139.443 1.87zM38.761 7.193h-2.634a.761.761 0 0 0-.63.336l-3.632 5.398-1.54-5.187a.764.764 0 0 0-.73-.547h-2.587a.46.46 0 0 0-.433.608l2.9 8.588-2.726 3.884a.46.46 0 0 0 .372.727h2.63c.25 0 .483-.123.625-.33l8.76-12.755a.46.46 0 0 0-.375-.722" fill="#283B82"/><path d="M47.48 2.085h-5.473a.762.762 0 0 0-.75.648l-2.214 14.158c-.044.279.17.53.45.53H42.3c.261 0 .485-.191.525-.453l.628-4.013a.762.762 0 0 1 .751-.648h1.732c3.606 0 5.686-1.76 6.23-5.248.246-1.526.01-2.724-.699-3.564-.777-.922-2.156-1.41-3.987-1.41zm.632 5.171c-.299 1.981-1.799 1.981-3.25 1.981h-.826l.58-3.7a.456.456 0 0 1 .45-.388h.379c.987 0 1.92 0 2.402.569.287.339.375.842.265 1.538zM63.84 7.193h-2.62a.455.455 0 0 0-.45.388l-.116.74-.184-.269c-.567-.83-1.832-1.108-3.094-1.108-2.897 0-5.37 2.213-5.851 5.317-.25 1.548.105 3.029.976 4.061.8.95 1.94 1.345 3.3 1.345 2.334 0 3.628-1.513 3.628-1.513l-.117.734c-.044.281.17.533.452.533h2.36a.762.762 0 0 0 .75-.648l1.417-9.05a.46.46 0 0 0-.452-.53zm-3.654 5.145c-.251 1.51-1.441 2.525-2.957 2.525-.76 0-1.37-.246-1.76-.713-.387-.464-.533-1.123-.41-1.858.237-1.497 1.444-2.544 2.936-2.544.744 0 1.35.25 1.748.72.4.475.56 1.139.443 1.87zM66.929 2.474L64.683 16.89c-.044.279.17.53.45.53h2.258a.761.761 0 0 0 .751-.647l2.215-14.157a.459.459 0 0 0-.45-.532H67.38a.458.458 0 0 0-.45.389" fill="#469BDB"/></g></g></svg>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset class="frb-continue">
                        <button class="frb-submit" id="frb-continue">
                            <span class="frb-submit-secure-transaction">
                                <svg class="frb-icon frb-icon-lock" role="img" aria-labelledby="frb-icon-lock-title" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><title id="frb-icon-lock-title">{{{FR2015_translations,secure-transaction}}}</title><path d="M16.07 8H15V5s0-5-5-5-5 5-5 5v3H3.93A1.93 1.93 0 0 0 2 9.93v8.15A1.93 1.93 0 0 0 3.93 20h12.14A1.93 1.93 0 0 0 18 18.07V9.93A1.93 1.93 0 0 0 16.07 8zM10 16a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm3-8H7V5.5C7 4 7 2 10 2s3 2 3 3.5z"/></svg>
                            </span>
                            <span class="frb-submit-txt">{{{FR2015_translations,donate}}} <span class="frb-ptf-total"></span> <span class="frb-submit-label-now">{{{FR2015_translations,now}}}</span><span class="frb-submit-label-monthly">{{{FR2015_translations,monthly}}}</span></span>
                        </button>


                        <!-- <button class="frb-submit" id="frb-continue">
                            <span class="frb-submit-txt">{{{FR2015_translations,continue}}} <span class="frb-ptf-total"></span></span>
                        </button> -->
                    </fieldset>

                    <div class="frb-error frb-error-smallamount">{{{FR2015_translations,smallamount-error}}}</div>
                    <div class="frb-error frb-error-bigamount">{{{FR2015_translations,bigamount-error}}}</div>
                    <div class="frb-error frb-error-method">{{{FR2015_translations,select-payment-method-please}}}</div>

                    <button class="frb-rml-link">
                        {{{FR2015_translations,maybe-later}}}
                    </button>

                </div><!--frb-step-1-->

                <div class="frb-step frb-step-optin">

                    <button class="frb-icon-btn frb-back" aria-label="{{{FR2015_translations,back}}}"></button>

                    <fieldset class="frb-fieldset frb-optin">
                        <legend>4. {{{FR2015_translations,optin-we-need-to-stay-short}}}</legend>
                        <ul>
                            <li class="frb-button">
                                <div class="frb-button-table">
                                    <input class="frb-optin frb-radio" type="radio" name="opt_in" id="frb-optin-yes" value="1">
                                    <label class="frb-label" for="frb-optin-yes">{{{FR2015_translations,optin-yes}}}</label>
                                </div>
                            </li>
                            <li class="frb-button">
                                <div class="frb-button-table">
                                    <input class="frb-optin frb-radio" type="radio" name="opt_in" id="frb-optin-no" value="0">
                                    <label class="frb-label" for="frb-optin-no">{{{FR2015_translations,optin-no}}}</label>
                                </div>
                            </li>
                        </ul>
                        <div class="frb-optin-prompt">
                            <div class="frb-optin-prompt__no">😔 {{{FR2015_translations,optin-we-sorry}}}</div>
                            <div class="frb-optin-prompt__yes">😍 {{{FR2015_translations,optin-thanks-changing}}}</div>
                        </div>
                        <div class="frb-optin-smallprint frb-smallprint">
                            {{{FR2015_translations,optin-info-handled}}}
                        </div>
                    </fieldset>

                    <button id="frb-donate" class="frb-submit">
                        <span class="frb-submit-txt">{{{FR2015_translations,continue}}}</span>
                    </button>

                    <div class="frb-error frb-error-optin">{{{FR2015_translations,optin-please-select-email-option}}}</div>

                </div><!--frb-step-optin-->

                <div class="frb-step frb-step-upsell">

                    <button class="frb-icon-btn frb-back" aria-label="{{{FR2015_translations,back}}}"></button>

                    <div class="frb-upsell">
                        <p class="frb-upsell-cta">{{{FR2015_translations,why-not-make}}}</p>
                        <p class="frb-upsell-color">{{{FR2015_translations,monthly-best}}}</p>
                    </div>

                    <div class="frb-monthly-buttons">

                        <button id="frb-monthly-donate-yes" class="frb-submit active">
                            <span class="frb-submit-txt">{{{FR2015_translations,yes-each-month}}}</span>
                        </button>

                        <button id="frb-monthly-donate-no" class="frb-submit active">
                            <span class="frb-submit-txt">{{{FR2015_translations,no-thanks-one}}}</span>
                        </button>

                    </div>

                    <button class="frb-monthly-diff-amt-link">{{{FR2015_translations,yes-but-different}}}</button>

                </div><!--frb-step-upsell-->

                <div class="frb-step frb-step-monthly-diff-amt">

                    <button class="frb-icon-btn frb-back" aria-label="{{{FR2015_translations,back}}}"></button>

                    <p class="frb-upsell-ty">{{{FR2015_translations,thank-you-support}}}</p>
                    <div class="frb-amt-monthly">
                        <label for="frb-amt-monthly-other-input">{{{FR2015_translations,enter-monthly-amt}}}</label>
                        <input name="otherMonthlyAmount" type="text" inputmode="decimal" id="frb-amt-monthly-other-input" size="3" autocomplete="off" value="" tabindex="-1" />
                    </div>
                    <div class="frb-error frb-error-smallamount">{{{FR2015_translations,smallamount-error}}}</div>
                    <div class="frb-error frb-error-bigamount">{{{FR2015_translations,bigamount-error}}}</div>
                    <button id="frb-donate-monthly-other" class="frb-submit">
                        <span class="frb-submit-secure-transaction">
                            <svg class="frb-icon frb-icon-lock" role="img" aria-labelledby="frb-icon-lock-title" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><title id="frb-icon-lock-title">{{{FR2015_translations,secure-transaction}}}</title><path d="M16.07 8H15V5s0-5-5-5-5 5-5 5v3H3.93A1.93 1.93 0 0 0 2 9.93v8.15A1.93 1.93 0 0 0 3.93 20h12.14A1.93 1.93 0 0 0 18 18.07V9.93A1.93 1.93 0 0 0 16.07 8zM10 16a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm3-8H7V5.5C7 4 7 2 10 2s3 2 3 3.5z"/></svg>
                        </span>
                        <span class="frb-submit-txt">{{{FR2015_translations,donate}}} <span class="frb-monthly-total"></span> <span class="frb-submit-label-now">{{{FR2015_translations,now}}}</span><span class="frb-submit-label-monthly">{{{FR2015_translations,monthly}}}</span></span>
                    </button>

                </div><!-- frb-step-monthly-diff-amt -->

            </form>

            <div class="frb-rml">

                <div class="frb-rml-ty" style="display: none;">
                    {{{FR2015_translations,remind-me-thankyou}}}
                </div>

                <form method="post" action="https://www.pages04.net/wikimedia/remind/Form?sp_source={{{banner}}}" class="frb-rml-form" id="frb-rml-form" style="display: none;">
                    <input type="hidden" name="formSourceName" value="StandardForm" />
                    <!-- DO NOT REMOVE HIDDEN FIELD sp_exp -->
                    <input type="hidden" name="sp_exp" value="yes" />
                    <input type="hidden" name="rml_source" value="{{{banner}}}" />
                    <input type="hidden" name="rml_group" value="dsk_lg" />
                    <input type="hidden" name="rml_country" value="" />
                    <input type="hidden" name="rml_language" value="" />
                    <input type="hidden" name="rml_submitDate" value="" />
                    <input type="hidden" name="rml_segment" value="" />

                    <label class="frb-rml-form-legend" for="frb-rml-email">{{{FR2015_translations,remind-me-email}}}</label>
                    <input type="email" name="Email" id="frb-rml-email" placeholder="{{{FR2015_translations,remind-me-donor-email}}}" dir="ltr" />
                    <button class="frb-btn-submit" id="frb-rml-submit" type="submit" tabindex="0">{{{FR2015_translations,remind-me-submit}}}</button>

                    <div class="frb-error frb-error-invalidemail" style="display: none;">
                        {{{FR2015_translations,remind-me-error-msg-invalid}}}
                    </div>

                </form>
                <button class="close-rml">
                    ← {{{FR2015_translations,back}}}
                </button>

            </div><!--frb-rml-->

        </div><!-- frb-form-wrapper -->

    </div><!--frb-layout-->

</div>

<div class="frb frb-nag" style="display: none;">
    <div class="frb-layout">
        <div class="frb-message">
            <div class="frb-message-inner">
                <svg class="frb-message-icon" role="img" aria-labelledby="frb-message-icon-title-nag" width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><title id="frb-message-icon-title-nag">Info icon</title><g fill-rule="nonzero" fill="none"><circle fill="#900" cx="10.492" cy="14.492" r="10.492"/><path d="M12.681 11.754l-2.267 7.864c-.125.45-.188.745-.188.885 0 .08.033.156.1.226.066.07.136.105.21.105.125 0 .25-.055.376-.165.332-.273.73-.767 1.194-1.482l.376.22c-1.113 1.94-2.296 2.91-3.55 2.91-.48 0-.86-.135-1.144-.404a1.349 1.349 0 0 1-.426-1.023c0-.273.062-.62.188-1.04l1.537-5.286c.147-.51.221-.892.221-1.15a.566.566 0 0 0-.21-.432c-.14-.125-.332-.188-.575-.188-.11 0-.243.004-.398.011l.144-.442 3.749-.609h.663zm-.685-5.087c.457 0 .842.159 1.156.475.313.318.47.701.47 1.15 0 .45-.16.834-.476 1.15-.317.318-.7.476-1.15.476-.443 0-.822-.158-1.14-.475a1.566 1.566 0 0 1-.475-1.15c0-.45.157-.833.47-1.15a1.549 1.549 0 0 1 1.145-.476z" fill="#FFF"/></g></svg>
                {{{FR2015_translations,if-everyone-thrive}}}
            </div>
        </div>
        <div class="frb-form-wrapper">
            <button class="frb-icon-btn frb-close" aria-label="{{{FR2015_translations,close}}}"></button>
            <div class="frb-nag-btns">
                <button id="nag-yes-btn" class="frb-nag-btn" tabindex="0">{{{FR2015_translations,yes-donate-now}}}</button>
                <button id="nag-rml-btn" class="frb-nag-btn" tabindex="0">{{{FR2015_translations,no-maybe-later}}}</button>
            </div>
        </div><!-- frb-form-wrapper -->
    </div>
</div>

<script>
var frb = frb || {};

frb.show = function() {
    $('.frb-in-article').css('display', 'block');
};

frb.hide = function() {
    /* Hide the banner, and remove related event handlers */
    /* Don't set a cookie: this is a large banner and only shown on first view anyway */
    $('.frb').hide();
    $('.frb-prevent-page-jump').hide();
    $(window).off('.frb');
    $('#toc a').off('.frb');
};

/**
 * Show the given step
 * Literally just move into place and make it visible,
 * there may be other stuff needed to prepare it.
 *
 * @param  {string} step - name of step
 */
frb.showStep = function( step ) {

    var w = 320, // width in px
        d = 300  // animation duration in ms

    function moveLeft( $el ) {
        $el.animate({ 'margin-left': -w }, d, function() {
            $(this).css({ 'visibility': 'hidden' });
        })
    }

    function moveRight( $el ) {
        $el.animate({ 'margin-left': w }, d, function() {
            $(this).css({ 'visibility': 'hidden' });
        })
    }

    function moveVisible( $el ) {
        $el.css({ 'visibility': 'visible' }).animate({ 'margin-left': 0 }, d);
    }

    if ( step === '1' ) {
        moveVisible( $('.frb-step-1') );
          moveRight( $('.frb-step-optin, .frb-step-upsell, .frb-step-monthly-diff-amt') )
    } else if ( step === 'optin' ) {
           moveLeft( $('.frb-step-1') );
        moveVisible( $('.frb-step-optin') );
          moveRight( $('.frb-step-upsell, .frb-step-monthly-diff-amt') );
    } else if ( step === 'upsell' ) {
           moveLeft( $('.frb-step-1, .frb-step-optin') );
        moveVisible( $('.frb-step-upsell') );
          moveRight( $('.frb-step-monthly-diff-amt') );
    } else if ( step === 'monthly-diff-amt' ) {
           moveLeft( $('.frb-step-1, .frb-step-optin, .frb-step-upsell') );
        moveVisible( $('.frb-step-monthly-diff-amt') );
    } else {
        console.log( 'Invalid step: ' + step );
    }

};

frb.toggleMonthly = function( monthly ) {
    if( monthly.type === 'checkbox' ){
        monthly = monthly.checked;
    }
    if ( monthly ) {
        $('#frb-frequency-monthly').prop("checked", true);
        $('#frb-monthly-checkbox').prop("checked", true);
        $('#frb-form').addClass('form-monthly');
        $('.no-monthly input[type=radio]').attr('disabled', true);
        $('.no-monthly').prop('disabled', false);
        $('#frb-form').addClass('form-monthly');
        if( $( '.form-monthly .no-monthly input[type=radio]' ).is(':checked') ) {
            $('.form-monthly .no-monthly input[type=radio]').removeAttr('checked');
            frb.setMethod({});
        }
        $('.frb-cta-label-monthly').show();
    } else {
        $('#frb-frequency-onetime').prop("checked", true);
        $('#frb-monthly-checkbox').prop("checked", false);
        $('#frb-form').removeClass('form-monthly');
        $('.no-monthly input[type=radio]').attr('disabled', false);
        $('.frb-cta-label-monthly').hide();
    }
};

frb.rml = {

    post: function() {
        /* Create the iframe for the form and use it as the form's target */
        var frameName = 'remindFrame';
        var $form = $('#frb-rml-form');
        if ( $("iframe[name=" + frameName + "]").length === 0 ) {
            var $iframe = $('<iframe style="display: none;" name="' + frameName + '"></iframe>');
            $form.attr('target', $iframe.attr('name'));
            $form.after($iframe);
        }
        $form[0].submit();
    },

    getCurrentDate: function() {
        /* Get current date in correct format for Silverpop */
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; // January is 0!
        var yyyy = today.getFullYear();

        if( dd < 10 ) {
            dd = '0' + dd;
        }
        if( mm < 10 ) {
            mm = '0' + mm;
        }

        return mm+'/'+dd+'/'+yyyy;
    },

    init: function() {
        /* Prep the reminder form */

        var form = document.getElementById('frb-rml-form');

        form.rml_country.value    = mw.centralNotice.data.country;
        form.rml_language.value   = mw.centralNotice.data.uselang;
        form.rml_submitDate.value = frb.rml.getCurrentDate();
        form.rml_segment.value    = Math.floor((Math.random() * 100) + 1);

        $('.frb-rml-link').click(function() {
            $('.frb-rml-form').toggle();
            $('#frb-rml-email').focus();
            return false;
        });

        $('#frb-rml-submit').click(function() {
            if ( mw.util.validateEmail( form.Email.value ) ) {
                frb.rml.post();
                $('.frb-rml-form, .frb-rml-link').attr('style','display:none !important');
                $('.frb-rml-ty').show();
                window.setTimeout( function() {
                    frb.hide();
                }, 2500);
                mw.centralNotice.internal.hide.setHideWithCloseButtonCookies(); // Hide future banners for 7 days
                return false;
            } else {
                $('#frb-rml-email').addClass('frb-haserror').focus();
                $('.frb-error-invalidemail').show();
                return false;
            }
        });
    }

};

{{MediaWiki:FundraisingBanners/LocalizeData-2017.js}}
{{MediaWiki:FundraisingBanners/CoreJS-2018.js}}
{{MediaWiki:FundraisingBanners/LocalizeJS-2017.js}}

{{MediaWiki:FR2014/Resources/alterImpressionData.js}}


/**
 * Determine if we should show recurring choice on step 2
 * @param  {Object} options     Including method and optional gateway
 * @param  {String} country
 * @return {boolean}
 */
frb.shouldShowRecurring = function(options, country) {
    if( frb.noRecurringCountries.indexOf( country ) !== -1 ) { // Defined in LocalizeJS-2017.js
        return false;
    }

    if( options.method === 'paypal' ) {
        return true;
    }

    if( options.method === 'cc' ) {
        if ( options.gateway === 'adyen' || frb.ccAdyenCountries.indexOf( country ) !== -1 ) { // Defined in LocalizeJS-2017.js
            return false;
        } else {
            return true;
        }
    }

    return false;
};

$(function() {
    var language = mw.centralNotice.data.uselang;
    var country  = mw.centralNotice.data.country;
    var currency = frb.getCurrency(country);
    var validAmount;
    var validMethod;
    var validOptin;
    var amountInUpsell;
    var amountInOther;
    var form = document.getElementById('frb-form');

    mw.loader.using(['mediawiki.util']).then(function() {
        frb.rml.init();
    });

    frb.initAmountOptions();
    frb.localizeAmountOptions( frb.amounts.options7, currency, country, language, true );
    frb.localizeErrors();

    frb.storedOptions = {};
    frb.extraData = {};

    frb.setMethod = function(options) {
        frb.storedOptions = options;
    };

    frb.updateUpsellAsk = function(isOtherAmountStep) {


        console.log('form.otherMonthlyAmount')
        console.log(form.otherMonthlyAmount)


        console.log('form.otherMonthlyAmount.value')
        console.log(form.otherMonthlyAmount.value)



        var amount, feeAmount, upsellAmount,
            list = frb.amounts.monthlySuggest[currency];

            


        /* TODO: how to remove this? It's here for choosing a different
        monthly amount. But means going back and changing on step 1 has no effect */
        /*if ( form.otherMonthlyAmount.value !== '' ) {
            upsellAmount = form.otherMonthlyAmount.value;
        } else {*/

            
            /*
                ISSUE: This is not getting the latest amount typed in the input box because the frb.getAmount function
                is only getting the amount of the otherAmount input and not from the otherMonthlyAmount
            */
            if (isOtherAmountStep !== undefined) {
                amount = frb.getMonthlyAmount(); 
                console.log('isOtherAmountStep TRUE', amount)
                
            } else {
                amount = frb.getAmount(form);
                console.log('isOtherAmountStep FALSE', amount)

            }




            feeAmount = frb.calculateFee(amount);
            if ( $('#frb-ptf-checkbox').prop('checked') ) {
                amount = amount + feeAmount;
            }

            for (var i = list.length - 1; i >= 0; i--) {
                if ( amount <= list[i][0] ) {
                    upsellAmount = list[i][1];
                }
            }

            if (isOtherAmountStep === undefined) {
                form.otherMonthlyAmount.value = upsellAmount;
            }
        // }

        console.log('list')
        console.log(list)

        console.log('upsellAmount before operation')
        console.log(upsellAmount)

        if ($('#frb-ptf-checkbox').prop('checked'))  {
            monthlyFeeAmount = frb.calculateFee(upsellAmount);
            upsellAmount = upsellAmount + monthlyFeeAmount;
        }

        var upsellAmountFormatted = frb.formatCurrency(currency, upsellAmount, language);
        
        console.log('upsellAmountFormatted')
        console.log(upsellAmountFormatted)

        console.log('amount')
        console.log(amount)

        console.log('feeAmount')
        console.log(feeAmount)

        console.log('upsellAmount')
        console.log(upsellAmount)

        if (isOtherAmountStep === undefined) {
            $('.frb-upsell-ask').text(upsellAmountFormatted);
        }

    };

    $('.frb-amounts').on('input change', function(e) {
        var target = $(e.target);
        if ( target.attr('id') !== 'input_amount_other' ) {
            if ( frb.validateAmount() ) {
                validAmount = 1;
            } else {
                validAmount = 0;
            }
        }
        frb.updateFeeDisplay();
        frb.activateCTA();
    });

    $('.frb-methods').on('change', function() {
        $('.frb-methods').removeClass('frb-haserror');
        $('.frb-error-method').hide();
        $('.frb-optin').slideDown();
        validMethod = 1;
        frb.activateCTA();
    });

    // Opt-in interaction
    $('.frb-optin').on('change', function() {
        $('.frb-optin').removeClass('frb-haserror');
        $('.frb-error-optin').hide();
        if ( $('#frb-optin-no').is(':checked') ) {
            $('.frb-optin-prompt').removeClass('is-positive');
            $('.frb-optin-prompt').slideDown( frb.stepVisible );
        } else {
            $('.frb-optin-prompt').addClass('is-positive');
        }
        validOptin = 1;
        frb.activateCTA();
    });

    // Go to the next step of the form
    $('#frb-continue').on('click', function(e) {
        e.preventDefault();
        var status = {amount: false, method: false};

        // Validate amount
        if( frb.validateAmount() ){
            status.amount = true;
        } else {
            frb.extraData.validateError = 1;
        }

        // Validate method
        if ($('input[name="frb-methods"]:checked').length === 1) {
            status.method = true;
        } else {
            frb.extraData.validateError = 1;
            $('.frb-methods').addClass('frb-haserror');
            $('.frb-error-method').show();
        }

        if (status.amount === true && status.method === true) {

            frb.updateUpsellAsk();

            $('.frb-rml-link, .frb-rml').hide();

            if ( frb.optinRequired ) {
                frb.showStep('optin');
            } else if ( frb.upsellPossible() ) {
                frb.showStep('upsell');
            } else {
                frb.submitForm( frb.storedOptions );
            }

        }
    });

    /* -- Back buttons -- */
    $('.frb-step-optin .frb-back').on('click', function(e) {
        frb.showStep('1');
        return false;
    });

    $('.frb-step-upsell .frb-back').on('click', function(e) {
        if ( frb.optinRequired ) {
            frb.showStep('optin');
        } else {
            frb.showStep('1');
        }
        return false;
    });

    $('.frb-step-monthly-diff-amt .frb-back').on('click', function(e) {
        validAmount = 1;
        frb.activateCTA();
        frb.toggleMonthly(false);
        frb.showStep('upsell');
        return false;
    });

    // Donate monthly other amount
    $('.frb-monthly-diff-amt-link').on('click', function(e) {
        amountInUpsell = document.getElementById('frb-form').otherMonthlyAmount.value;

        document.getElementById('frb-form').otherMonthlyAmount.value = '';
        $('.frb-monthly-total').text('');
        validAmount = 0;
        frb.activateCTA();
        frb.toggleMonthly(true);
        frb.showStep('monthly-diff-amt');
        return false;
    });

    // Validate monthly other amount
    $('#frb-amt-monthly-other-input').on('input change', function(e) {
        if ( frb.validateMonthlyAmount() ) {
            validAmount = 1;
            isOtherAmountStep = true
            frb.updateUpsellAsk(true);
        } else {
            validAmount = 0;
        }
        frb.activateCTA();
    });

    frb.getMonthlyAmount = function() {
        var amount = null;

        // Check the "monthly other" amount box
        if (form.otherMonthlyAmount.value !== '') {
            console.log('IF getMonthlyAmount')
            console.log(form.otherMonthlyAmount.value)
            var otherMonthlyAmount = form.otherMonthlyAmount.value;
            otherMonthlyAmount = otherMonthlyAmount.replace(/[,.](\d)$/, ':$10');
            otherMonthlyAmount = otherMonthlyAmount.replace(/[,.](\d)(\d)$/, ':$1$2');
            otherMonthlyAmount = otherMonthlyAmount.replace(/[$£€¥,.]/g, '');
            otherMonthlyAmount = otherMonthlyAmount.replace(/:/, '.');
            amount = otherMonthlyAmount;
        }

        console.log('AFTER IF getMonthlyAmount')
        console.log(amount)

        amount = parseFloat(amount);

        if ( isNaN(amount) ) {
            return 0;
        } else {
            monthlyFeeAmount = frb.calculateFee(amount);
            console.log('get monthly amount monthlyFeeAmount', monthlyFeeAmount)

            amount += monthlyFeeAmount
            var totalMonthlyAmountFormatted = frb.formatCurrency(currency, amount, language);

            $('.frb-monthly-total').text(totalMonthlyAmountFormatted);

            console.log('totalMonthlyAmountFormatted')
            console.log(totalMonthlyAmountFormatted)

            return amount;
        }
    };

    frb.validateMonthlyAmount = function() {
        var amount = frb.getMonthlyAmount();
        var currency  = frb.getCurrency( mw.centralNotice.data.country );
        var minAmount = frb.amounts.minimums[ currency ];

        if ( amount === null || isNaN(amount) || amount <= 0 || amount < minAmount ) {
            $('.frb-error-bigamount').hide();
            $('.frb-error-smallamount').show();
            return false;
        } else if ( amount > frb.maxUSD * minAmount ) {
            $('.frb-error-bigamount').show();
            return false;
        } else {
            $('.frb-error-smallamount, .frb-error-bigamount').hide();
            return true;
        }
    };

    frb.submitMonthly = function() {
        frb.extraData.monthlyUpsell = 1;
        frb.extraData.originalAmt = frb.getAmount().toString();
        
        
        if ($('#frb-ptf-checkbox').prop('checked'))  {
            form.otherAmount.value = parseFloat(form.otherMonthlyAmount.value) + parseFloat(frb.calculateFee(form.otherMonthlyAmount.value));
        } else {
            form.otherAmount.value = form.otherMonthlyAmount.value;
        }

        frb.toggleMonthly(true);
        document.getElementById('input_amount_other').checked = true;
        document.getElementById('frb-ptf-checkbox').checked = false;

        frb.submitForm(frb.storedOptions);
    }

    // Submit form
    $('#frb-monthly-donate-yes').on('click', function(e) {
        form.otherMonthlyAmount.value = amountInUpsell
        frb.submitMonthly();
        return false;
    });

    $('#frb-monthly-donate-no').on('click', function(e) {
        frb.submitForm(frb.storedOptions);
        return false;
    });

    $('#frb-donate-monthly-other').on('click', function (e) {
        if (frb.validateMonthlyAmount()) {
            frb.submitMonthly();
        }
        return false;
    });

    frb.upsellPossible = function() {
        // Only do monthly upsell if initial selection is one-time and payment method supports monthly
        if ( frb.getRecurring(document.getElementById('frb-form')) ) {
            return false;
        } else if ( frb.storedOptions.method !== 'cc' && frb.storedOptions.method !== 'paypal' ) {
            return false;
        } else {
            return true;
        }
    }

    $('#frb-donate').on('click', function(e) {
        if ( frb.validateForm( frb.storedOptions) ) {
            if ( frb.upsellPossible() ) {
                frb.showStep('upsell');
            } else {
                frb.submitForm( frb.storedOptions );
            }
        }
        return false;
    });

    // Make sure form elements don't overflow if expanded
    frb.stepVisible = function(){
        var divHeight = $('.frb-step-optin').height();
        $('#frb-form').animate({'height': divHeight + 80},100);
    };

    /* End step functionality */

    // Focus for #input_amount_other
    $('.frb-amt-other').click(function() {
        document.getElementById('input_amount_other').checked = true;
        frb.updateFeeDisplay();
        $('#frb-amt-other-input').focus();
    });

    // Activate #input_amount_other radio when tabbing into #frb-amt-other-input
    $('#frb-amt-other-input').focus(function() {
        document.getElementById('input_amount_other').checked = true;
        frb.updateFeeDisplay();
    });

    frb.activateCTA = function(){
        if ( validAmount && validMethod ) {
            $('#frb-continue, #frb-monthly-donate-yes, #frb-monthly-donate-no, #frb-donate-monthly-other').addClass('active');
            if (validOptin) {
                $('#frb-donate').addClass('active');
            }
        } else {
            $('.frb-submit').removeClass('active');
        }
    };


    /* --- Nag/minimized banner functionality --- */

    // On Load
    var bannerOuterHeight = $('.frb-in-article').outerHeight( true );
    var stickyHeaderTop = bannerOuterHeight + $('.frb-in-article').offset().top + 200;

    frb.initNag = function() {

        // Intercept TOC clicks, and account for nag height
        $('#toc ul > li a').on('click.frb', function(e) {
            e.preventDefault();

            var anchor = $(this).attr('href').replace('#','');
            anchor = $("[id='"+anchor+"']");

            var offsetTop = anchor.offset().top - $('.frb-nag').outerHeight();
            $('body, html').animate({ scrollTop: offsetTop }, 10);
            window.location.hash = $(this).attr('href');
        });

        // Scroll to section, accounting for nag height
        if ( window.location.hash ) {
            var agent = navigator.userAgent;
            var offsetTop;
            var hash = decodeURI(window.location.hash).replace('#','');
            hash = $("[id='"+hash+"']");

            offsetTop = hash.offset().top + bannerOuterHeight - $('.frb-nag').outerHeight();
            $('body, html').animate( { scrollTop: offsetTop }, 100 );
        }

        $(window).on('resize.frb', function() {
            bannerOuterHeight = $('.frb-in-article').outerHeight( true );
            stickyHeaderTop = bannerOuterHeight + $('.frb-in-article').offset().top + 200;
        });

        function scrollFunction() {
            if( $(window).scrollTop() > stickyHeaderTop ) {
                if ( !frb.fixed ) {
                    $('.frb-nag').show();
                    $('.frb-rml').appendTo('.frb-nag .frb-form-wrapper');
                }
            } else {
                if ( frb.fixed ) {
                    $('.frb-prevent-page-jump')
                        .removeClass('frb-in-article')
                        .hide();
                    $('#frb-main')
                        .removeClass('frb-fixed')
                        .addClass('frb-in-article');
                    $('.frb-rml').appendTo('#frb-main .frb-form-wrapper');
                    frb.fixed = false;
                } else {
                    $('.frb-nag').hide();
                    $('.frb-rml').appendTo('#frb-main .frb-form-wrapper');
                }
            }
        }

        $(window).on('load.frb scroll.frb resize.frb', function() {
            scrollFunction();
        });

        frb.clickNag = function(e) {
            // Add spacer to prevent jump
            var inArticleHeight = $('#frb-main').outerHeight();
            $('.frb-prevent-page-jump')
                .height( inArticleHeight )
                .addClass('frb-in-article') // So that it can be used for stickyHeader calcs
                .show();

            $('#frb-main')
                .removeClass('frb-in-article')
                .addClass('frb-fixed');

            $('.frb-rml').appendTo('#frb-main .frb-form-wrapper')
            $('.frb-nag').hide();

            frb.fixed = true;
            frb.extraData.clickedNag = 1;
            return false;
        };

        $('.frb-nag').on( 'click', frb.clickNag );
        $('#nag-yes-btn').on( 'click', frb.clickNag );

        $('#nag-rml-btn').on( 'click', function(e) {
            $('.frb-nag').addClass('frb-rml-displayed');
            $('.frb-nag').off('click'); // Remove so they can interact with RML
        });

    };

    $('.close-rml').on('click', function(e) {
        $('.frb-nag').removeClass('frb-rml-displayed');
    });

    $('.frb-close').on('click', function (e) {
        frb.hide();
        return false;
    });

    /* Hide banner outside of main namespace (and Main Page, for sites where that isn't in main namespace) */
    if ( mw.config.get('wgNamespaceNumber') > 0 && !mw.config.get('wgIsMainPage') ) {
        mw.centralNotice.bannerData.hideResult = true;
        mw.centralNotice.bannerData.hideReason = 'namespace';
    }
    /* Hide banner on mobile site, in case wrong device settings were chosen */
    if ( mw.config.get('skin') === 'minerva' ) {
        mw.centralNotice.bannerData.hideResult = true;
        mw.centralNotice.bannerData.hideReason = 'other';
    }

    if (!mw.centralNotice.bannerData.hideResult) {
        frb.initNag();
        frb.show();
    }

});
</script>
